{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/raghu/Fanance/fanance-dapp/app/frontend/src/containers/CelebrityExchange/Trades.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Card } from \"antd\";\nexport default function Trades(props) {\n  _s();\n\n  // To provide as dependency for useEffect\n  const events = props.drizzleState.contracts[\"CelebrityExchange\"].events;\n  const [completedTrades, setCompletedTrades] = useState([]);\n  useEffect(() => {\n    const web3 = props.drizzle.web3;\n    const contract = props.drizzle.contracts[\"CelebrityExchange\"];\n    const yourContractWeb3 = new web3.eth.Contract(contract.abi, contract.address);\n    let completedBuyOrders = [];\n    let completedSellOrders = [];\n    yourContractWeb3.getPastEvents(\"BuyOrderPlaced\", {\n      fromBlock: 0,\n      toBlock: \"latest\"\n    }).then(function (events) {\n      events.map(event => {\n        completedBuyOrders.push(event.returnValues);\n      });\n    }).then(function () {\n      yourContractWeb3.getPastEvents(\"SellOrderPlaced\", {\n        fromBlock: 0,\n        toBlock: \"latest\"\n      }).then(function (events) {\n        events.map(event => {\n          completedSellOrders.push(event.returnValues);\n        });\n        setCompletedTrades(completedBuyOrders.concat(completedSellOrders));\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.drizzle.contracts[\"CelebrityExchange\"], events]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"trades\",\n      style: {\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          color: \"white\",\n          fontSize: \"12\"\n        },\n        children: \"Trades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"38vh\",\n          overflow: \"auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: \"100%\",\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Volume\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [typeof completedTrades != \"undefined\" ? completedTrades.sort((trade1, trade2) => trade2.timestamp - trade1.timestamp).map((trade, index, array) => {\n              console.log(index, array);\n              return typeof trade != \"undefined\" ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    color: typeof trade.price != \"undefined\" && typeof array[index + 1] != \"undefined\" && trade.price >= array[index + 1].price ? \"#55bd6c\" : \"#f1432f\"\n                  },\n                  children: trade.price / 10 ** 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: typeof trade.tokenBuy != \"undefined\" ? trade.tokenBuy / 10 ** 18 : trade.tokenSell / 10 ** 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: trade.timestamp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 14\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 13\n              }, this) : null;\n            }) : null, /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  color: \"#f1432f\"\n                },\n                children: \"0.0029\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"950\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"25 days ago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  color: \"#55bd6c\"\n                },\n                children: \"0.0035\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"21.14.03\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Trades, \"uumw8nD9lzSkU4oGERYp4YJodhc=\");\n\n_c = Trades;\n\nvar _c;\n\n$RefreshReg$(_c, \"Trades\");","map":{"version":3,"sources":["/Users/raghu/Fanance/fanance-dapp/app/frontend/src/containers/CelebrityExchange/Trades.js"],"names":["React","useState","useEffect","Card","Trades","props","events","drizzleState","contracts","completedTrades","setCompletedTrades","web3","drizzle","contract","yourContractWeb3","eth","Contract","abi","address","completedBuyOrders","completedSellOrders","getPastEvents","fromBlock","toBlock","then","map","event","push","returnValues","concat","overflow","textAlign","color","fontSize","height","width","sort","trade1","trade2","timestamp","trade","index","array","console","log","price","tokenBuy","tokenSell"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Card } from \"antd\";\n\nexport default function Trades(props) {\n\t// To provide as dependency for useEffect\n\tconst events = props.drizzleState.contracts[\"CelebrityExchange\"].events;\n\tconst [completedTrades, setCompletedTrades] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst web3 = props.drizzle.web3;\n\t\tconst contract = props.drizzle.contracts[\"CelebrityExchange\"];\n\t\tconst yourContractWeb3 = new web3.eth.Contract(\n\t\t\tcontract.abi,\n\t\t\tcontract.address\n\t\t);\n\t\tlet completedBuyOrders = [];\n\t\tlet completedSellOrders = [];\n\t\tyourContractWeb3\n\t\t\t.getPastEvents(\"BuyOrderPlaced\", {\n\t\t\t\tfromBlock: 0,\n\t\t\t\ttoBlock: \"latest\",\n\t\t\t})\n\t\t\t.then(function (events) {\n\t\t\t\tevents.map((event) => {\n\t\t\t\t\tcompletedBuyOrders.push(event.returnValues);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then(function () {\n\t\t\t\tyourContractWeb3\n\t\t\t\t\t.getPastEvents(\"SellOrderPlaced\", {\n\t\t\t\t\t\tfromBlock: 0,\n\t\t\t\t\t\ttoBlock: \"latest\",\n\t\t\t\t\t})\n\t\t\t\t\t.then(function (events) {\n\t\t\t\t\t\tevents.map((event) => {\n\t\t\t\t\t\t\tcompletedSellOrders.push(event.returnValues);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetCompletedTrades(completedBuyOrders.concat(completedSellOrders));\n\t\t\t\t\t});\n\t\t\t});\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [props.drizzle.contracts[\"CelebrityExchange\"], events]);\n\treturn (\n\t\t<div>\n\t\t\t<Card className=\"trades\" style={{ overflow: \"hidden\" }}>\n\t\t\t\t<p\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tfontSize: \"12\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tTrades\n\t\t\t\t</p>\n\t\t\t\t<div style={{ height: \"38vh\", overflow: \"auto\" }}>\n\t\t\t\t\t<table style={{ width: \"100%\", textAlign: \"center\" }}>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t\t<th>Volume</th>\n\t\t\t\t\t\t\t\t<th>Time</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{typeof completedTrades != \"undefined\"\n\t\t\t\t\t\t\t\t? completedTrades\n\t\t\t\t\t\t\t\t\t\t.sort(\n\t\t\t\t\t\t\t\t\t\t\t(trade1, trade2) => trade2.timestamp - trade1.timestamp\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t.map((trade, index, array) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(index, array);\n\t\t\t\t\t\t\t\t\t\t\treturn typeof trade != \"undefined\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof trade.price != \"undefined\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof array[index + 1] != \"undefined\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrade.price >= array[index + 1].price\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"#55bd6c\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"#f1432f\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{trade.price / 10 ** 18}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typeof trade.tokenBuy != \"undefined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? trade.tokenBuy / 10 ** 18\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: trade.tokenSell / 10 ** 18}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{trade.timestamp}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td style={{ color: \"#f1432f\" }}>0.0029</td>\n\t\t\t\t\t\t\t\t<td>950</td>\n\t\t\t\t\t\t\t\t<td>25 days ago</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td style={{ color: \"#55bd6c\" }}>0.0035</td>\n\t\t\t\t\t\t\t\t<td>120</td>\n\t\t\t\t\t\t\t\t<td>21.14.03</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}